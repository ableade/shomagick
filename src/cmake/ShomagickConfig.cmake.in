get_filename_component(Shomagick_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)
include(CMakeFindDependencyMacro)

list(APPEND CMAKE_MODULE_PATH ${Shomagick_CMAKE_DIR})

# NOTE Had to use find_package because find_dependency does not support COMPONENTS or MODULE until 3.8.0

#find_dependency(Boost 1.55 REQUIRED COMPONENTS regex)
#find_dependency(RapidJSON 1.0 REQUIRED MODULE)

find_package(Boost 1.5 COMPONENTS filesystem serialization REQUIRED)
find_package(Eigen REQUIRED)
find_package(exiv2 REQUIRED)
find_package(OpenMP)
find_package (CUDA)
find_package(
	OpenCV 
	REQUIRED 
	COMPONENTS
	core 
	imgproc 
	calib3d 
	sfm 
	viz 
	features2d 
	xfeatures2d 
	OPTIONAL_COMPONENTS
	cudafeatures2d 
	cudaimgproc 
)
find_package(Ceres REQUIRED)
find_package(OpenGV REQUIRED)
find_package(SuiteSparse)

list(REMOVE_AT CMAKE_MODULE_PATH -1)

if(NOT TARGET Shomagick::Shomagick)
    include("${Shomagick_CMAKE_DIR}/ShomagickTargets.cmake")
endif()

set(SHOMAGICK_LIBRARIES Shomagick::Shomagick)
set(SHOMAGICK_INCLUDE_DIRS "@CONF_INCLUDE_DIRS@")
